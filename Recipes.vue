<template>
    <div id="content" class="main-area">
        <div  class="panel-body" >
            <div class="row" >      
                <div class="col-sm-8">   

                    <nav class="navbar navbar-custom ">
                      <div class="container-fluid">
                        <div class="navbar-header">
                          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>                        
                          </button>

                        </div>
                          <div class="collapse navbar-collapse" id="myNavbar">
                            <ul class="nav navbar-nav">
                              <li><a class="page-scroll" href="#recipeFilter" @click="getRecipeType('#veg#');">Veg</a></li>
                            </ul>
                            <ul class="nav navbar-nav">
                              <li><a class="page-scroll" href="#recipeFilter" @click="getRecipeType('#non-veg#');">Non. Veg</a></li>
                            </ul>
                            <ul class="nav navbar-nav">
                              <li><a class="page-scroll" href="#recipeFilter" @click="getRecipeType('#starter#');">Starters</a></li>
                            </ul>
                            <ul class="nav navbar-nav">
                              <li><a class="page-scroll" href="#recipeFilter" @click="getRecipeType('#Desserts#');">Desserts</a></li>
                            </ul>
                            <ul class="nav navbar-nav">
                              <li><a class="page-scroll" href="#recipeFilter" @click="getRecipeType('#drinks#');">Drinks</a></li>
                            </ul>
                            <ul class="nav navbar-nav">
                              <li><a class="page-scroll" href="#recipeFilter" @click="getRecipeType('#videos#');">Videos</a></li>
                            </ul>
                            <ul class="nav navbar-nav">
                              <li><a class="page-scroll" href="About.html" >About</a></li>
                            </ul>      
                          </div>
                      </div>
                    </nav>

                    <div id="mainReceipe" class="singlePageRecipe">
                      <table>
                        <tr>
                        <td><a title="Facebook" href="https://www.facebook.com/suscooking/"><img src="builds/fb.png" style="width:40px;height:40px;" alt="" /></a></td>
                        <td><a title="Instagram" href="https://www.instagram.com/suscooking/"><img src="builds/instagram.png" style="margin: 5px 5px 5px 5px;width:40px;height:40px;" alt="" /></a></td>
                        <td><a title="Pinterest" href="https://www.pinterest.com/suscooking/"><img src="builds/pinterest.png" style="width:40px;height:40px;" alt="" /></a></td>
                        <td><a title="Twitter" href="https://twitter.com/surekhath"><img src="builds/Twitter.png" style="margin: 5px 5px 5px 5px;width:40px;height:40px;" alt="" /></a></td>
                        </tr>
                    </table>
                        <!-- Your Recipe Title starts  here  -->
                                     <h1 style="text-align: justify;"><span style="color: #993300;">Moussaka</span></h1>
<p><span style="color: #993300;"><img src="builds/Moussaka.jpg" alt="" /></span></p>
<br>Moussaka is an eggplant or potato-based baked dish, often including ground meat.</br><br>
Few years back I was at an office lunch at an Italian restaurant. Not all the dishes on the menu were familiar to me. I simply didn't want to eat pizza or pasta and wanted more of a comfort food. Because of a beautiful picture the item Moussaka caught my attention and the description of how the dish is cooked sounded promising! So away I go, I ordered Moussaka.<br><br>
As expected, the dish took a while to arrive because apparently it is freshly made upon order. Nevertheless, since our boss was with us at the table, we were not in a hurry to get back to work after lunch. So, we waited as we finished up our starters and drinks. When the dish arrived in a one-serve casserole it was piping hot and I could hear the cheese and the sauces sizzling from inside the dish. Without further delay I, delved into the pleasure of the delicious Moussaka melting in my mouth and drowning down my throat&hellip;mm mm it was so yummy. Ever since then I wanted to try making this dish, and today is that day!<br><br>
 There are numerous variations of Moussaka, there is the Greek style or Turkish style or the Middle Eastern style. &nbsp;Here is my version and it is super yummy. Try it and you will not fail!<br>
<h1><span style="color: #0000ff;">Ingredients</span></h1>
<ul>
<li>Eggplant 1 lb</li>
<li>Potato 1 large</li>
<li>Grated Parmesan cheese 1 cup or as needed</li>
<li>Olive oil 2 tbsp</li>
<li>Black pepper powder 1 tsp</li>
<li>Salt as needed</li>
</ul>
<h3><span style="color: #0000ff;">For meat sauce</span></h3>
<ul>
<li>Ground lean meat (beef or lamb) 1 lb</li>
<li>Onion 1 finely chopped</li>
<li>Garlic shredded 1 tbsp</li>
<li>Dried parsley &frac12; tsp</li>
<li>Oregano &frac14; tsp</li>
<li>Cayenne Pepper 1 tsp</li>
<li>Cinnamon powder &frac14; tsp</li>
<li>Nutmeg powder a pinch</li>
<li>Black pepper powder 1 tsp</li>
<li>Salt as needed</li>
<li>Diced tomatoes &nbsp;8 oz can</li>
<li>Red wine &frac12; cup&nbsp;</li>
</ul>
<h3><span style="color: #0000ff;">For Bechamel sauce</span></h3>
<ul>
<li>2 tbsp butter</li>
<li>Flour 4 tbsp</li>
<li>Milk 4 cups</li>
<li>Nutmeg powder a pinch</li>
<li>salt as needed&nbsp;</li>
<li>Black pepper powder 1/2 tsp</li>
</ul>
<h3><span style="color: #0000ff;">Method</span>&nbsp;</h3>
<p>Cut eggplant to &frac12; cm thin rounds. Coat with olive oil, salt and pepper. Air fry the eggplant rounds at 380 deg F for 10 minutes. Alternately eggplants can be deep fried in oil too.</p>
<p><img src="builds/Moussakaeggplant.jpg" alt="" /></p>
<p>Cut potatoes into &frac12; cm thin round. Cook in water till half cooked. Drain and set aside.</p>
<p><img src="builds/Moussakapotato.jpg" alt="" /></p>
<p>In a pan add oil and saute onions and garlic. Add ground meat. Season with salt, pepper, cayenne pepper, cinnamon and nutmeg. Mix well. Cover and cook for about 10 minutes. Add diced tomatoes and red wine. Stir well. Cook for another 5 minutes.</p>
<p><img src="builds/Moussakameat.jpg" alt="" /></p>
<span style="color: #0000ff;"><strong>Bechamel sauce</strong></span>
Melt butter in a saucepan. Add the flour and whisk to a smooth paste. Add warm milk and continue to whisk till sauce thickens.&nbsp;Add nutmeg powder, salt and pepper and stir. Let it cool.</p>
<p><img src="builds/Moussakabechamel.jpg" alt="" /></p>
<p>Preheat oven to 350 deg F.</p>
<span style="color: #0000ff;"><strong>Layering</strong></span>
Grease a 4 qt casserole dish or a 4 qt glass baking dish with butter. Start by layering the fried eggplant. Sprinkle parmesan cheese. Spread the meat sauce evenly. Layer the cooked potato rounds. Sprinkle cheese. Spread the remaining meat sauce. Top again with the remaining eggplants. Pour the bechamel sauce evenly on top. Sprinkle nutmeg and remaining cheese.</p>
<img src="builds/Moussaka2.jpg" alt="" /></p>
<p>Bake the moussaka for an hour. Once done, set it aside for about 15-20 minutes before serving.&nbsp;</p>
<p><img src="builds/Moussaka1.jpg" alt="" /></p>
<p>&nbsp;&nbsp;</p>
                    </div>  <!-- End of mainReceipe page -->
                </div>    

                <div class="col-sm-4 columnRecipeCards" >  <!-- columnRecipeCards  style="background-color:#bbb;" -->
                    <div id="recipeList" :class="{ hide: hideRecipeListpanel }">
                        <ul class="cards" >
                            <li v-for="(aReceipe, i) in getLastFewRecipes(allRecipes, 5)" :key="i"  class= "card-item" >
                                <div  v-bind:id="getRecipeIndex ()"  >

                                    <a href="#" :name=aReceipe.recipeImage @click="redirectURL(`/${aReceipe.recipeImage}`);">
                                        <figure class="card">
                                            <img class="lazyload" :src="require(`/${aReceipe.recipeImage}`)">
                                            <figcaption class="caption">
                                                <h3 class="caption-title" :style = "getFontColor36Px()" >{{aReceipe.recipeName}}</h3>
                                                <p v-html="`${aReceipe.recipeDescShort}`"></p>
                                                
                                            </figcaption>
                                        </figure>
                                    </a> 
                                </div>
                            </li>
                        </ul>
                    </div>          <!-- recipeList -->
                </div>  
            </div>              <!-- end of row -->   

            <div class="rowRecipeThumpNail" id="recipeFilter" >
                <!-- <div class= "card-item" >
                    <iframe src='//rcm-na.amazon-adsystem.com/e/cm?o=1&p=12&l=ez&f=ifr&linkID=735d9c463328be15715dca1ee948aea3&t=suscooking-20&tracking_id=suscooking-20' width='300' height='250' scrolling='no' border='0' marginwidth='0' style='border:none;' frameborder='0'></iframe>
                </div>
                 -->
        
                <div v-for="(aReceipe, i) in getRecipesShuffled(allRecipes, 20)" :key="i"  class= "card-item" >
                    <div class="columnRecipeThumpNail">
                        <a href="#" @click="redirectURL(`/${aReceipe.recipeImage}`);">
                            <figure class="card">
                                <img class="img-thumbnail lazyload" :src="require(`/${aReceipe.recipeImage}`)"><br>
                                <div  :style = "getFontColor()" >{{aReceipe.recipeName}}</div>
                            </figure>
                        </a> 
                    </div>
                </div>
            </div>
        </div>          <!-- panel-body -->

      <!-- Start Footer bottom Area -->
        <footer>
          <br><br><br>
          <div class="footer-area-bottom">
            <div class="container">
              <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                  <div class="copyright text-center">
                    <p>
                      &copy; Copyright <strong>SusCooking.com</strong>. All Rights Reserved
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </footer>

    </div>      <!-- end of content -->

</template>

<script>

var recipeCount = 0;


export default {
  name: "Recipes",
  props: ["allRecipes"],
  data() {
    return {
      selectedRecipeName: "",
      selectedRecipeDescShort: "",
      selectedRecipeDescLong: "",
      selectedRecipeImage: "GreekSalad.jpg",
      hideRecipeDetailpanel: true,
      hideRecipeListpanel: false
    }; //return
  }, //Data

  methods: {
    getRecipeType: function (recipeType){
      const input = document.querySelector('#SearchApts')
      input.value = recipeType ;
      const event = new Event('input', {
                        cancelable: true,
                        bubbles: true
                     });
      input.dispatchEvent(event);
    },
    requestDetailRecipe: function(aReceipe) {
      console.log("details Requested" + aReceipe.recipeName);
      this.hideRecipeDetailpanel = false;
      this.hideRecipeListpanel = true;
      this.selectedRecipeName = aReceipe.recipeName;
      this.selectedRecipeDescShort = aReceipe.recipeDescShort;
      this.selectedRecipeDescLong = aReceipe.recipeDescLong;
      this.selectedRecipeImage = aReceipe.recipeImage;
    },
    requestHome: function() {
      this.hideRecipeDetailpanel = true;
      this.hideRecipeListpanel = false;
    },
    redirectURL: function(recipeImage) {
      window.location = recipeImage.replace(".jpg", "") + ".html";
    },
    shuffleArray: function(anArray) {
      for (var i = anArray.length - 1; i >= 0; i--) {
        var randomIndex = Math.floor(Math.random() * (i + 1));
        var itemAtIndex = anArray[randomIndex];

        anArray[randomIndex] = anArray[i];
        anArray[i] = itemAtIndex;
      }

      return anArray;
    },
    getLastFewRecipes: function(allMyRecipes, maxNum) {
      if (allMyRecipes.length < 4) return allMyRecipes;

      var myNewRecipes = allMyRecipes.reverse();
      return myNewRecipes.slice(0, maxNum);
    },
    getRecipesShuffled: function(allMyRecipes, maxNum) {
      if (allMyRecipes.length < 4) return allMyRecipes;

      if (maxNum == "ALL") {
        maxNum = allMyRecipes.length;
      }

      var recipeScrampleArray = this.shuffleArray (allMyRecipes);

      return recipeScrampleArray.slice(0, maxNum);
    },
    getFontColor: function() {
      var colorArray = [
        "#42b983",
        "#0000FF",
        "#800000",
        "#d84194",
        "#4897cc",
        "#53cc48",
        "#dda652",
        "#db6f31",
        "#7951e6"
      ];
      var random = colorArray[Math.floor(Math.random() * colorArray.length)];
      //console.log("color: " + colorArray[random]);
      return " color: " + random;
    },
    getFontColor36Px: function() {
      var colorArray = [
        "#42b983",
        "#0000FF",
        "#800000",
        "#d84194",
        "#4897cc",
        "#53cc48",
        "#dda652",
        "#db6f31",
        "#7951e6"
      ];
      var random = colorArray[Math.floor(Math.random() * colorArray.length)];
      //console.log("color: " + colorArray[random]);
      return "font-weight: bold;font-size: 24px; color: " + random;

    }, getRecipeIndex : function () {
      recipeCount = recipeCount + 1;
      return "recipe-" + recipeCount;
    }

  } // methods
};
</script>

<style>
#box {
  background-color: white;
  max-width: 300px;
  height: 224px;
  text-overflow: ellipsis;
  overflow: hidden;
}

.portfolio-image {
  height: 224px;
  width: 300px;
  /*width: 531px;
  height: 397px; */
}

.border {
  border-color: grey;
  border-width: 5px;
  border-style: solid;
}

.gutter {
  margin-bottom: 30px;
}
</style>